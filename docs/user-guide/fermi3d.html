
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3D Fermi surface &#8212; PyProcar 6.1.5 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=e5fbc548" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=4f30bbaf"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=30646c52"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user-guide/fermi3d';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Filtering data" href="filter.html" />
    <link rel="prev" title="2D spin-texture" href="fermi2d.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">PyProcar 6.1.5 documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting-started/index.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dftprep/index.html">
                        DFT Prep
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../examples/index.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        API Reference
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/romerogroup/pyprocar" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/romerogroup/pyprocar/blob/main/CONTRIBUTING.rst" title="Contributing" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa fa-gavel fa-fw"></i></span>
            <label class="sr-only">Contributing</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://doi.org/10.1016/j.cpc.2019.107080" title="The Paper" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa fa-file-text fa-fw"></i></span>
            <label class="sr-only">The Paper</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting-started/index.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dftprep/index.html">
                        DFT Prep
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../examples/index.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        API Reference
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/romerogroup/pyprocar" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/romerogroup/pyprocar/blob/main/CONTRIBUTING.rst" title="Contributing" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa fa-gavel fa-fw"></i></span>
            <label class="sr-only">Contributing</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://doi.org/10.1016/j.cpc.2019.107080" title="The Paper" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa fa-file-text fa-fw"></i></span>
            <label class="sr-only">The Paper</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="atomic_projections.html">Atomic Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="bands.html">Band structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="cat.html">Concatenating multiple calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="comparebands.html">Compare bands</a></li>
<li class="toctree-l1"><a class="reference internal" href="dos.html">Density of States</a></li>
<li class="toctree-l1"><a class="reference internal" href="ebs.html">ElectronicBandStructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="fermi2d.html">2D spin-texture</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">3D Fermi surface</a></li>
<li class="toctree-l1"><a class="reference internal" href="filter.html">Filtering data</a></li>
<li class="toctree-l1"><a class="reference internal" href="kpath.html">K Path</a></li>
<li class="toctree-l1"><a class="reference internal" href="repair.html">Repair</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure.html">Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="unfold.html">Band unfolding</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">3D Fermi surface</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="d-fermi-surface">
<span id="fermi3d"></span><h1>3D Fermi surface<a class="headerlink" href="#d-fermi-surface" title="Permalink to this heading">#</a></h1>
<p>PyProcar’s 3D Fermi surface utility is able to generate Fermi surface
plots projected over spin, atoms and orbitals or a combination of one
or many of each. This utility is also capable of projecting external
properties that are provided on a mesh grid in momentum space. This
feature is useful when one wants to project properties that are not
provided in PROCAR file such as Fermi velocity, electron-phonon
coupling and electron effective mass. We divide this section into
three sub sections, plain Fermi surface, projection of properties from
PROCAR and projection of properties from external file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When plotting 3D Fermi surfaces, it is important to use a
Monkhorst-Pack k-grid while setting <code class="docutils literal notranslate"><span class="pre">ISYM=-1</span></code> in the INCAR file
(turn off symmetry).</p>
</div>
<section id="d-surfaces">
<h2>3D surfaces<a class="headerlink" href="#d-surfaces" title="Permalink to this heading">#</a></h2>
<p>This section focuses on how the 3d image is created, if you are only
interested in using this functionality, you can skip this part and
move to the <a class="reference external" href="fermi3D.html#id1">examples</a> section. A surface is
created by adding a collection of small polygons. By increasing the
number of polygons, one can increase the smoothness of the surface.
These polygons are defined by a collection of points on the surface
also known as vertices and a recipe for their connections to create
the polygons, which is defined by a list of points. This list is
called faces. For example the following defines a cube:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vertices</span>
 <span class="mi">1</span>   <span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span>
 <span class="mi">2</span>   <span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span>  <span class="mf">1.000000</span>
 <span class="mi">3</span>  <span class="o">-</span><span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span>  <span class="mf">1.000000</span>
 <span class="mi">4</span>  <span class="o">-</span><span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span>
 <span class="mi">5</span>   <span class="mf">1.000000</span>  <span class="mf">1.000000</span> <span class="o">-</span><span class="mf">0.999999</span>
 <span class="mi">6</span>   <span class="mf">0.999999</span>  <span class="mf">1.000000</span>  <span class="mf">1.000001</span>
 <span class="mi">7</span>  <span class="o">-</span><span class="mf">1.000000</span>  <span class="mf">1.000000</span>  <span class="mf">1.000000</span>
 <span class="mi">8</span>  <span class="o">-</span><span class="mf">1.000000</span>  <span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span>
<span class="n">faces</span>
<span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span>
<span class="mi">8</span> <span class="mi">7</span> <span class="mi">6</span>
<span class="mi">5</span> <span class="mi">6</span> <span class="mi">2</span>
<span class="mi">6</span> <span class="mi">7</span> <span class="mi">3</span>
<span class="mi">3</span> <span class="mi">7</span> <span class="mi">8</span>
<span class="mi">1</span> <span class="mi">4</span> <span class="mi">8</span>
<span class="mi">1</span> <span class="mi">2</span> <span class="mi">4</span>
<span class="mi">5</span> <span class="mi">8</span> <span class="mi">6</span>
<span class="mi">1</span> <span class="mi">5</span> <span class="mi">2</span>
<span class="mi">2</span> <span class="mi">6</span> <span class="mi">3</span>
<span class="mi">4</span> <span class="mi">3</span> <span class="mi">8</span>
<span class="mi">5</span> <span class="mi">1</span> <span class="mi">8</span>
</pre></div>
</div>
<p>for example the first face defined by a triangle instructs to connect
points 2,3 and 4. One can also assign colors to each face. pyprocar
uses this feature to assign the projection colors to the
surfaces. Another important aspect to this in definning the surface is
the normals to the faces, however a tutorial about fermi surface is
not a good place to get into details about surfaces.</p>
<p>To generate the fermi surface PyProcar uses different levels of
generality to surfaces. The level is the definition of a surface which
is handled by the class surface in <a class="reference external" href="pyprocar.core.html#module-pyprocar.core.surface">pyprocar.core.Surface</a>
which only requires faces and vertices. The next level is an
isosurface which is handeled by <a class="reference external" href="pyprocar.core.html#module-pyprocar.core.isosurface">pyprocar.core.Isosurface</a>, this class
represents the equation <span class="math notranslate nohighlight">\(f(x,y,z)=V\)</span>, where <span class="math notranslate nohighlight">\(V\)</span> is the
isovalue and <span class="math notranslate nohighlight">\(f(x,y,z)\)</span> is the function. In a fermi surface
<span class="math notranslate nohighlight">\(f(x,y,z)\)</span> will be the energy of each band at different points
of the k space and <span class="math notranslate nohighlight">\(V\)</span> will be the fermi energy. To use this
class one needs to provide the function in a 3 dimentional matrix and
the isovalue. The next level is the fermi surface which is defined by
an isosurfcace which is handled by the class
<a class="reference external" href="pyprocar.fermisurface3d.html#module-pyprocar.fermisurface3d.fermisurface3D">pyprocar.fermisurface3d.FermiSurfcae3D</a>.
This function requires a list of kpoints and the eigen-values of the
energy for a specific band. However one does not have to be concerned
about the specifics of different layers and just use the
pyprocar.fermi3D function to generate the fermi surface. The
different arguments required by this function are explained in details
at <a class="reference external" href="fermi3D.html#pyprocar.scriptFermi3D.fermi3D">the bottom of this page</a>.
This work would not have been possible without the amazing packages, <a class="reference external" href="https://docs.pyvista.org/">pyvista_doc</a> and <a class="reference external" href="https://github.com/mikedh/trimesh">trimesh_doc</a>.
If you use pyprocar’s 3D fermi surface in your publication please cite
trimesh and pyvista as well with the following citation information.</p>
<p><a class="reference external" href="https://github.com/mikedh/trimesh#how-can-i-cite-this-library">trimesh_cite</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@software</span><span class="p">{</span><span class="n">trimesh</span><span class="p">,</span>
      <span class="n">author</span> <span class="o">=</span> <span class="p">{{</span><span class="n">Dawson</span><span class="o">-</span><span class="n">Haggerty</span> <span class="n">et</span> <span class="n">al</span><span class="o">.</span><span class="p">}},</span>
      <span class="n">title</span> <span class="o">=</span> <span class="p">{</span><span class="n">trimesh</span><span class="p">},</span>
      <span class="n">url</span> <span class="o">=</span> <span class="p">{</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">trimsh</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="p">},</span>
      <span class="n">version</span> <span class="o">=</span> <span class="p">{</span><span class="mf">3.2.0</span><span class="p">},</span>
      <span class="n">date</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2019</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">8</span><span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p><a class="reference external" href="https://joss.theoj.org/papers/10.21105/joss.01450">PyVista</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@article</span><span class="p">{</span><span class="n">sullivan2019pyvista</span><span class="p">,</span>
<span class="n">doi</span> <span class="o">=</span> <span class="p">{</span><span class="mf">10.21105</span><span class="o">/</span><span class="n">joss</span><span class="mf">.01450</span><span class="p">},</span>
<span class="n">url</span> <span class="o">=</span> <span class="p">{</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">doi</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="mf">10.21105</span><span class="o">/</span><span class="n">joss</span><span class="mf">.01450</span><span class="p">},</span>
<span class="n">year</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2019</span><span class="p">},</span>
<span class="n">month</span> <span class="o">=</span> <span class="p">{</span><span class="n">may</span><span class="p">},</span>
<span class="n">publisher</span> <span class="o">=</span> <span class="p">{</span><span class="n">The</span> <span class="n">Open</span> <span class="n">Journal</span><span class="p">},</span>
<span class="n">volume</span> <span class="o">=</span> <span class="p">{</span><span class="mi">4</span><span class="p">},</span>
<span class="n">number</span> <span class="o">=</span> <span class="p">{</span><span class="mi">37</span><span class="p">},</span>
<span class="n">pages</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1450</span><span class="p">},</span>
<span class="n">author</span> <span class="o">=</span> <span class="p">{</span><span class="n">C</span><span class="o">.</span> <span class="n">Bane</span> <span class="n">Sullivan</span> <span class="ow">and</span> <span class="n">Alexander</span> <span class="n">Kaszynski</span><span class="p">},</span>
<span class="n">title</span> <span class="o">=</span> <span class="p">{{</span><span class="n">PyVista</span><span class="p">}:</span> <span class="mi">3</span><span class="n">D</span> <span class="n">plotting</span> <span class="ow">and</span> <span class="n">mesh</span> <span class="n">analysis</span> <span class="n">through</span> <span class="n">a</span> <span class="n">streamlined</span> <span class="n">interface</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Visualization</span> <span class="n">Toolkit</span> <span class="p">({</span><span class="n">VTK</span><span class="p">})},</span>
<span class="n">journal</span> <span class="o">=</span> <span class="p">{</span><span class="n">Journal</span> <span class="n">of</span> <span class="n">Open</span> <span class="n">Source</span> <span class="n">Software</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="keyboard-shortcuts">
<h2>Keyboard shortcuts<a class="headerlink" href="#keyboard-shortcuts" title="Permalink to this heading">#</a></h2>
<p>When plotting with the interactive rendering windows in VTK, several keyboard
shortcuts are available:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Key</p></th>
<th class="head"><p>Action</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Linux/Windows</p></td>
<td><p>Mac</p></td>
<td></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">q</span></code></p></td>
<td><p>Close the rendering window</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">f</span></code></p></td>
<td><p>Focus and zoom in on a point</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">v</span></code></p></td>
<td><p>Isometric camera view</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">w</span></code></p></td>
<td><p>Switch all datasets to a <cite>wireframe</cite> representation</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">r</span></code></p></td>
<td><p>Reset the camera to view all datasets</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">s</span></code></p></td>
<td><p>Switch all datasets to a <cite>surface</cite> representation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">shift+click</span></code> or <code class="docutils literal notranslate"><span class="pre">middle-click</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">shift+click</span></code></p></td>
<td><p>Pan the rendering scene</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">left-click</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cmd+click</span></code></p></td>
<td><p>Rotate the rendering scene in 3D</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ctrl+click</span></code></p></td>
<td></td>
<td><p>Rotate the rendering scene in 2D (view-plane)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mouse-wheel</span></code> or <code class="docutils literal notranslate"><span class="pre">right-click</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ctl+click</span></code></p></td>
<td><p>Continuously zoom the rendering scene</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">shift+s</span></code></p></td>
<td><p>Save a screenhsot (only on <code class="docutils literal notranslate"><span class="pre">BackgroundPlotter</span></code>)</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">shift+c</span></code></p></td>
<td><p>Enable interactive cell selection/picking</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">up</span></code>/<code class="docutils literal notranslate"><span class="pre">down</span></code></p></td>
<td><p>Zoom in and out</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">+</span></code>/<code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Increase/decrease the point size and line widths</p></td>
</tr>
</tbody>
</table>
<span class="target" id="module-pyprocar.scripts.scriptFermi3D"></span><dl class="py function">
<dt class="sig sig-object py" id="pyprocar.scripts.scriptFermi3D.fermi3D">
<span class="sig-prename descclassname"><span class="pre">pyprocar.scripts.scriptFermi3D.</span></span><span class="sig-name descname"><span class="pre">fermi3D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">procar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'PROCAR'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'OUTCAR'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poscar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'POSCAR'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'in.bxsf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abinit_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fermi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bands</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'plain'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supercell</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extended_zone_directions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'white'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_colors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'jet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atoms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbitals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calculate_fermi_speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calculate_fermi_velocity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calculate_effective_mass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_texture</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrow_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrow_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.015</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_spin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fermi_shift</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fermi_tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection_accuracy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'vasp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savegif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savemp4</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save3d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_meshio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perspective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save2d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_slice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_normal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(1,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_origin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_cross_section_area</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso_slider</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso_surfaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widget</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyprocar/scripts/scriptFermi3D.html#fermi3D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyprocar.scripts.scriptFermi3D.fermi3D" title="Permalink to this definition">#</a></dt>
<dd><p>This function plots the fermi surface</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>procar</strong> (str, optional (default <code class="docutils literal notranslate"><span class="pre">'PROCAR'</span></code>)) – Path to the PROCAR file of the simulation
e.g. <code class="docutils literal notranslate"><span class="pre">procar='~/MgB2/fermi/PROCAR'</span></code></p></li>
<li><p><strong>outcar</strong> (str, optional (default <code class="docutils literal notranslate"><span class="pre">'OUTCAR'</span></code>)) – Path to the OUTCAR file of the simulation
e.g. <code class="docutils literal notranslate"><span class="pre">outcar='~/MgB2/fermi/OUTCAR'</span></code></p></li>
<li><p><strong>abinit_output</strong> (str, optional (default <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Path to the Abinit output file
e.g. <code class="docutils literal notranslate"><span class="pre">outcar='~/MgB2/abinit.out'</span></code></p></li>
<li><p><strong>infile</strong> (str, optional (default <code class="docutils literal notranslate"><span class="pre">infile</span> <span class="pre">=</span> <span class="pre">in.bxsf'</span></code>)) – This is the path in the input bxsf file
e.g. <code class="docutils literal notranslate"><span class="pre">infile</span> <span class="pre">=</span> <span class="pre">ni_fs.bxsf'</span></code></p></li>
<li><p><strong>fermi</strong> (float, optional (default <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Fermi energy at which the fermi surface is created. In other
words fermi is the isovalue at which the fermi surface is
created. If not defined it is read from the OUTCAR file.
e.g. <code class="docutils literal notranslate"><span class="pre">fermi=-5.49</span></code></p></li>
<li><p><strong>bands</strong> (<em>list int</em><em>, </em><em>optional</em>) – Which bands are going to be plotted in the fermi surface. The
numbering is based on vasp outputs. If nothing is selected,
this function will iterate over all the bands and plots the
ones that cross fermi.
e.g. <code class="docutils literal notranslate"><span class="pre">bands=[14,</span> <span class="pre">15,</span> <span class="pre">16,</span> <span class="pre">17]</span></code></p></li>
<li><p><strong>interpolation_factor</strong> (<em>int</em><em>, </em><em>optional</em>) – The kpoints grid will increase by this factor and interpolated
at the new points using Fourier interpolation.
e.g. If the kgrid is 5x5x5, <code class="docutils literal notranslate"><span class="pre">interpolation_factor=4</span></code> will
lead to a kgrid of 20x20x20</p></li>
<li><p><strong>mode</strong> (str, optional (default <code class="docutils literal notranslate"><span class="pre">mode='plain'</span></code>)) – Defines If the fermi surface will have any projection using
colormaps or is a plotted with a uniform plain color.
e.g. <code class="docutils literal notranslate"><span class="pre">mode='plain'</span></code>, <code class="docutils literal notranslate"><span class="pre">mode='parametric'</span></code></p></li>
<li><p><strong>supercell</strong> (list int, optional (default <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">1,</span> <span class="pre">1]</span></code>)) – If one wants plot more than the 1st brillouin zone, this
parameter can be used.
e.g. <code class="docutils literal notranslate"><span class="pre">supercell=[2,</span> <span class="pre">2,</span> <span class="pre">2]</span></code></p></li>
<li><p><strong>extended_zone_directions</strong> (list of list of size 3, optional (default <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – If one wants plot more than  brillouin zones in a particular direection, this
parameter can be used.
e.g. <code class="docutils literal notranslate"><span class="pre">extended_zone_directions=[[1,0,0],[0,1,0],[0,0,1]]</span></code></p></li>
<li><p><strong>colors</strong> (<em>list str</em><em> or </em><em>list tuples</em><em> of </em><em>size 4</em><em>, </em><em>optional</em>) – List of colors for each band. If you use tuple, it represents rgba values
This argument does not work whena 3d file is saved.
The colors for when <code class="docutils literal notranslate"><span class="pre">save3d</span></code> is used, we
recomend using qualitative colormaps, as this function will
automatically choose colors from the colormaps.
e.g. <code class="docutils literal notranslate"><span class="pre">colors=['red',</span> <span class="pre">'blue',</span> <span class="pre">'green']</span></code>
<code class="docutils literal notranslate"><span class="pre">colors=[(1,0,0,1),</span> <span class="pre">(0,1,0,1),</span> <span class="pre">(0,0,1,1)]</span></code></p></li>
<li><p><strong>background_color</strong> (str, optional (default <code class="docutils literal notranslate"><span class="pre">white</span></code>)) – Defines the background color.
e.g. <code class="docutils literal notranslate"><span class="pre">background_color='gray'</span></code></p></li>
<li><p><strong>save_colors</strong> (bool, optional (default <code class="docutils literal notranslate"><span class="pre">False</span></code>)) – In case the plot is saved in 3D and some property of the
material is projected on the fermi surface, this argument
allows the projection to be stored in the 3D file.
e.g. <code class="docutils literal notranslate"><span class="pre">save_colors=True</span></code></p></li>
<li><p><strong>cmap</strong> (str, optional (default <code class="docutils literal notranslate"><span class="pre">jet</span></code>)) – The color map used for color coding the projections. <code class="docutils literal notranslate"><span class="pre">cmap</span></code>
is only relevant in <code class="docutils literal notranslate"><span class="pre">mode='parametric'</span></code>. A full list of
color maps in matplotlib are provided in this web
page. <a class="reference external" href="https://matplotlib.org/2.0.1/users/colormaps.html">https://matplotlib.org/2.0.1/users/colormaps.html</a></p></li>
<li><p><strong>atoms</strong> (<em>list int</em><em>, </em><em>optional</em>) – <p><code class="docutils literal notranslate"><span class="pre">atoms</span></code> define the projection of the atoms on the fermi
surfcae . In other words it selects only the contribution of the
atoms provided. Atoms has to be a python list(or numpy array)
containing the atom indices. Atom indices has to be order of
the input files of DFT package. <code class="docutils literal notranslate"><span class="pre">atoms</span></code> is only relevant in
<code class="docutils literal notranslate"><span class="pre">mode='parametric'</span></code>. keep in mind that python counting
starts from zero.
e.g. for SrVO<sub>3</sub> we are choosing only the oxygen
atoms. <code class="docutils literal notranslate"><span class="pre">atoms=[2,</span> <span class="pre">3,</span> <span class="pre">4]</span></code>, keep in mind that python counting
starts from zero, for a <strong>POSCAR</strong> similar to following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Sr1</span> <span class="n">V1</span> <span class="n">O3</span>
<span class="mf">1.0</span>
<span class="mf">3.900891</span> <span class="mf">0.000000</span> <span class="mf">0.000000</span>
<span class="mf">0.000000</span> <span class="mf">3.900891</span> <span class="mf">0.000000</span>
<span class="mf">0.000000</span> <span class="mf">0.000000</span> <span class="mf">3.900891</span>
<span class="n">Sr</span> <span class="n">V</span> <span class="n">O</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">3</span>
<span class="n">direct</span>
<span class="mf">0.500000</span> <span class="mf">0.500000</span> <span class="mf">0.500000</span> <span class="n">Sr</span> <span class="n">atom</span> <span class="mi">0</span>
<span class="mf">0.000000</span> <span class="mf">0.000000</span> <span class="mf">0.000000</span> <span class="n">V</span>  <span class="n">atom</span> <span class="mi">1</span>
<span class="mf">0.000000</span> <span class="mf">0.500000</span> <span class="mf">0.000000</span> <span class="n">O</span>  <span class="n">atom</span> <span class="mi">2</span>
<span class="mf">0.000000</span> <span class="mf">0.000000</span> <span class="mf">0.500000</span> <span class="n">O</span>  <span class="n">atom</span> <span class="mi">3</span>
<span class="mf">0.500000</span> <span class="mf">0.000000</span> <span class="mf">0.000000</span> <span class="n">O</span>  <span class="n">atom</span> <span class="mi">4</span>
</pre></div>
</div>
<p>if nothing is specified this parameter will consider all the
atoms present.</p>
</p></li>
<li><p><strong>orbitals</strong> (<em>list int</em><em>, </em><em>optional</em>) – <p><code class="docutils literal notranslate"><span class="pre">orbitals</span></code> define the projection of orbitals on the fermi
surface. In other words it selects only the contribution of
the orbitals provided. Orbitals has to be a python list(or
numpy array) containing the Orbital indices. Orbitals indices
has to be order of the input files of DFT package. The
following table represents the indecies for different orbitals
in <strong>VASP</strong>.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+-----+-----+----+----+-----+-----+-----+-----+-------+</span>
<span class="o">|</span>  <span class="n">s</span>  <span class="o">|</span> <span class="n">py</span>  <span class="o">|</span> <span class="n">pz</span> <span class="o">|</span> <span class="n">px</span> <span class="o">|</span> <span class="n">dxy</span> <span class="o">|</span> <span class="n">dyz</span> <span class="o">|</span> <span class="n">dz2</span> <span class="o">|</span> <span class="n">dxz</span> <span class="o">|</span> <span class="n">x2</span><span class="o">-</span><span class="n">y2</span> <span class="o">|</span>
<span class="o">+-----+-----+----+----+-----+-----+-----+-----+-------+</span>
<span class="o">|</span>  <span class="mi">0</span>  <span class="o">|</span>  <span class="mi">1</span>  <span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span>  <span class="mi">4</span>  <span class="o">|</span>  <span class="mi">5</span>  <span class="o">|</span>  <span class="mi">6</span>  <span class="o">|</span>  <span class="mi">7</span>  <span class="o">|</span>   <span class="mi">8</span>   <span class="o">|</span>
<span class="o">+-----+-----+----+----+-----+-----+-----+-----+-------+</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">orbitals</span></code> is only relavent in <code class="docutils literal notranslate"><span class="pre">mode='parametric'</span></code>
e.g. <code class="docutils literal notranslate"><span class="pre">orbitals=[1,2,3]</span></code> will only select the p orbitals
while <code class="docutils literal notranslate"><span class="pre">orbitals=[4,5,6,7,8]</span></code> will select the d orbitals.
If nothing is specified pyprocar will select all the present
orbitals.</p>
</p></li>
<li><p><strong>calculate_fermi_velocity</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>default False</em><em>)</em>) – Boolean value to calculate fermi velocity vectors on the fermi surface.
Must be used with mode= “property_projection”.
e.g. <code class="docutils literal notranslate"><span class="pre">fermi_velocity_vector=True</span></code></p></li>
<li><p><strong>calculate_fermi_speed</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>default False</em><em>)</em>) – Boolean value to calculate magnitude of the fermi velocity on the fermi surface.
Must be used with mode= “property_projection”.
e.g. <code class="docutils literal notranslate"><span class="pre">fermi_velocity=True</span></code></p></li>
<li><p><strong>calculate_effective_mass</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>default False</em><em>)</em>) – Boolean value to calculate the harmonic mean of the effective mass on the fermi surface.
Must be used with mode= “property_projection”.
e.g. <code class="docutils literal notranslate"><span class="pre">effective_mass=True</span></code></p></li>
<li><p><strong>spins</strong> (<em>list int</em><em>, </em><em>optional</em>) – e.g. <code class="docutils literal notranslate"><span class="pre">spins=[0]</span></code></p></li>
<li><p><strong>spin_texture</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>default False</em><em>)</em>) – In non collinear calculation one can choose to plot the spin
texture on the fermi surface.
e.g. <code class="docutils literal notranslate"><span class="pre">spin_texture=True</span></code></p></li>
<li><p><strong>arrow_color</strong> (<em>str</em><em>, </em><em>optional</em>) – Defines the color of the arrows when
<code class="docutils literal notranslate"><span class="pre">spin_texture=True</span></code>. The default will select the colors
based on the color map specified. If arrow_color is selected,
all arrows will have the same color.
e.g. <code class="docutils literal notranslate"><span class="pre">arrow_color='red'</span></code></p></li>
<li><p><strong>arrow_size</strong> (<em>int</em><em>, </em><em>optional</em>) – As the name suggests defines the size of the arrows, when spin
texture is selected.
e.g. <code class="docutils literal notranslate"><span class="pre">arrow_size=3</span></code></p></li>
<li><p><strong>only_spin</strong> (<em>bool</em><em>, </em><em>optional</em>) – If <code class="docutils literal notranslate"><span class="pre">only_spin=True</span></code> is selected, the fermi surface is not
plotted and only the spins in the spin texture is plotted.</p></li>
<li><p><strong>fermi_shift</strong> (<em>float</em><em>, </em><em>optional</em>) – This parameter is useful when one wants to plot the iso-surface
above or belove the fermi level.
e.g. <code class="docutils literal notranslate"><span class="pre">fermi_shift=0.6</span></code></p></li>
<li><p><strong>fermi_tolerance</strong> (<em>float = 0.1</em>) – This is used to improve search effiency by doing a prior search selecting band within a tolerance of the fermi energy</p></li>
<li><p><strong>projection_accuracy</strong> (str, optional (default <code class="docutils literal notranslate"><span class="pre">'normal'</span></code>)) – Selected the accuracy of projected properties. <code class="docutils literal notranslate"><span class="pre">'normal'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'high'</span></code> are the only two options. <code class="docutils literal notranslate"><span class="pre">'normal'</span></code> uses the fast
but rather inaccurate nearest neighbor interpolation, while
<code class="docutils literal notranslate"><span class="pre">'high'</span></code> uses the more accurate linear interpolation for the
projection of the properties.
e.g. <code class="docutils literal notranslate"><span class="pre">projection_accuracy='high'</span></code></p></li>
<li><p><strong>code</strong> (str, optional (default <code class="docutils literal notranslate"><span class="pre">'vasp'</span></code>)) – The DFT code in which the calculation is performed with.
Also, if you want to read a .bxsf file set code =”bxsf”
e.g. <code class="docutils literal notranslate"><span class="pre">code='vasp'</span></code></p></li>
<li><p><strong>vmin</strong> (<em>float</em><em>, </em><em>optional</em>) – The maximum value in the color bar. cmap is only relevant in
<code class="docutils literal notranslate"><span class="pre">mode='parametric'</span></code>.
e.g. vmin=-1.0</p></li>
<li><p><strong>vmax</strong> (<em>float</em><em>, </em><em>optional</em>) – The maximum value in the color bar. cmap is only relevant in
<code class="docutils literal notranslate"><span class="pre">mode='parametric'</span></code>.
e.g. vmax=1.0</p></li>
<li><p><strong>savegif</strong> (<em>str</em><em>, </em><em>optional</em>) – pyprocar can save the fermi surface in a gif
format. <code class="docutils literal notranslate"><span class="pre">savegif</span></code> is the path to which the gif is saved.
e.g. <code class="docutils literal notranslate"><span class="pre">savegif='fermi.gif'</span></code> or <code class="docutils literal notranslate"><span class="pre">savegif='~/MgB2/fermi.gif'</span></code></p></li>
<li><p><strong>savemp4</strong> (<em>str</em><em>, </em><em>optional</em>) – pyprocar can save the fermi surface in a mp4 video format.
<code class="docutils literal notranslate"><span class="pre">savemp4</span></code> is the path to which the video is saved.
e.g. <code class="docutils literal notranslate"><span class="pre">savegif='fermi.mp4'</span></code> or <code class="docutils literal notranslate"><span class="pre">savegif='~/MgB2/fermi.mp4'</span></code></p></li>
<li><p><strong>save3d</strong> (<em>str</em><em>, </em><em>optional</em>) – pyprocar can save the fermi surface in a 3d file format.
pyprocar uses the <a class="reference external" href="https://github.com/mikedh/trimesh">trimesh</a>
to save the 3d file. trimesh can export files with the
following formats STL, binary PLY, ASCII OFF, OBJ, GLTF/GLB
2.0, COLLADA. <code class="docutils literal notranslate"><span class="pre">save3d</span></code> is the path to which the file is saved.
e.g. <code class="docutils literal notranslate"><span class="pre">save3d='fermi.glb'</span></code></p></li>
<li><p><strong>save_meshio</strong> (<em>bool</em><em>, </em><em>optional</em>) – pyprocar can use meshio to save any 3d format supported by it.</p></li>
<li><p><strong>perspective</strong> (<em>bool</em><em>, </em><em>optional</em>) – To create the illusion of depth, perspective is used in 2d
graphics. One can turn this feature off by <code class="docutils literal notranslate"><span class="pre">perspective=False</span></code>
e.g.  <code class="docutils literal notranslate"><span class="pre">perspective=False</span></code></p></li>
<li><p><strong>save2d</strong> (<em>str</em><em>, </em><em>optional</em>) – The fermi surface can be saved as a 2D image. This parameter
turns this feature on and selects the path at which the file
is going to be saved.
e.g. <code class="docutils literal notranslate"><span class="pre">save2d='fermi.png'</span></code></p></li>
<li><p><strong>show_slice</strong> (<em>bool</em><em>, </em><em>optional</em>) – Creates a widget which slices the fermi surface</p></li>
<li><p><strong>slice_origin</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Origin to put the plane widget</p></li>
<li><p><strong>slice_normal</strong> (<em>bool</em><em>, </em><em>optional</em>) – Normal of the plane widget</p></li>
<li><p><strong>show_cross_section_area</strong> (<em>bool</em><em>, </em><em>optional</em>) – Shows the largest cross sectional area</p></li>
<li><p><strong>show_curvature</strong> (<em>bool</em><em>, </em><em>optional</em>) – plots the curvature of the fermi surface</p></li>
<li><p><strong>curvature_type</strong> (<em>str</em><em>, </em><em>optional</em>) – If show_curvature is True, this option chooses the type of curvature
availible in Pyvista. (‘mean’, ‘gaussian’, ‘maximum’, ‘minimum’)</p></li>
<li><p><strong>iso_slider</strong> (<em>bool</em><em>, </em><em>optional</em>) – plots a slider widget which controls which iso_energy value viewed</p></li>
<li><p><strong>iso_range</strong> (<em>float</em><em>, </em><em>optional</em>) – If iso_slider is True, this specifies the energy range
around the fermi surface to view</p></li>
<li><p><strong>iso_surfaces</strong> (<em>int</em><em>, </em><em>optional</em>) – If iso_slider is True, this specifies how many surfaces to
generate in the range specified around the fermi surface</p></li>
<li><p><strong>camera_pos</strong> (list float, optional (default <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">1,</span> <span class="pre">1]</span></code>)) – This parameter defines the position of the camera where it is
looking at the fermi surface. This feature is important when
one chooses to use the <code class="docutils literal notranslate"><span class="pre">save2d</span></code>, <code class="docutils literal notranslate"><span class="pre">savegif</span></code> or <code class="docutils literal notranslate"><span class="pre">savemp4</span></code>
option.
e.g. <code class="docutils literal notranslate"><span class="pre">camera_pos=[0.5,</span> <span class="pre">1,</span> <span class="pre">-1]</span></code></p></li>
<li><p><strong>widget</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean argument to use</p></li>
<li><p><strong>show</strong> (bool, optional (default <code class="docutils literal notranslate"><span class="pre">True</span></code>)) – If set to <code class="docutils literal notranslate"><span class="pre">False</span></code> it will not show the 3D plot.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>s</strong> (<em>pyprocar surface object</em>) – The whole fermi surface added bands</p></li>
<li><p><strong>surfaces</strong> (<em>list pyprocar surface objects</em>) – list of fermi surface of each band</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="fermi2d.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">2D spin-texture</p>
      </div>
    </a>
    <a class="right-next"
       href="filter.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Filtering data</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#d-surfaces">3D surfaces</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#keyboard-shortcuts">Keyboard shortcuts</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pyprocar.scripts.scriptFermi3D.fermi3D"><code class="docutils literal notranslate"><span class="pre">fermi3D()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/user-guide/fermi3d.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2020, Romero Group.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>